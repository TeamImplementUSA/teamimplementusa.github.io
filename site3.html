<!DOCTYPE html>
<html>

<head>
<link rel="stylesheet" type="text/css" href="style.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>


<body>

<script type="text/javascript" id="klarna-credit-lib-x">
  /* <![CDATA[ */
  (function(w,d) {
    var url = 'https://credit.klarnacdn.net/lib/v1-playground/api.js';
    n = d.createElement('script');
    c = d.getElementById('klarna-credit-lib-x');
    n.async = !0;
    n.src = url + '?' + (new Date()).getTime();
    c.parentNode.replaceChild(n, c);
  })(this,document);
  /* ]]> */
</script>



<div id="klarna_container">

</div>


<a class="button" href="#">Place Order</a>


<script>
    window.onload = function() {
        var anchors = document.getElementsByTagName('a');
        for(var i = 0; i < anchors.length; i++) {
            var anchor = anchors[i];
            anchor.onclick = function() {

              Klarna.Credit.authorize({
                alert('ho ho ho')
   function(res) {
  console.debug(res);
}
})


                //alert('ho ho ho');
            }
        }
    }
</script>


<script>

setTimeout( function() {

  Klarna.Credit.init({
    client_token: 'eyJhbGciOiJub25lIn0.ewogICJzZXNzaW9uX2lkIiA6ICJjNjEzZTIyYS0wY2JkLTUwMjAtODk5My0yOGZjYzY3ZTRiMTgiLAogICJiYXNlX3VybCIgOiAiaHR0cHM6Ly9jcmVkaXQtbmEua2xhcm5hLmNvbSIsCiAgImRlc2lnbiIgOiAia2xhcm5hIiwKICAibGFuZ3VhZ2UiIDogImVuIiwKICAicHVyY2hhc2VfY291bnRyeSIgOiAiVVMiLAogICJhbmFseXRpY3NfcHJvcGVydHlfaWQiIDogIlVBLTM2MDUzMTM3LTEwIiwKICAidHJhY2VfZmxvdyIgOiB0cnVlLAogICJlbnZpcm9ubWVudCIgOiAicHJvZHVjdGlvbiIsCiAgIm1lcmNoYW50X25hbWUiIDogIkxlbm92byIsCiAgInNlc3Npb25fdHlwZSIgOiAiQ1JFRElUIiwKICAiY2xpZW50X2V2ZW50X2Jhc2VfdXJsIiA6ICJodHRwczovL2V2dC1uYS5rbGFybmEuY29tIgp9.'
  })


  Klarna.Credit.load({
    container: "#klarna_container"  
  }, function(res) {
    console.debug(res);
  })
},2000);

</script>

</body>
</html>

